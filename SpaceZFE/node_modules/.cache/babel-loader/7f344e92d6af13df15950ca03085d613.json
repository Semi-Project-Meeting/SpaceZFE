{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nimport _ from \"lodash\";\nimport MapView from \"./KaKaoMapAll.vue\";\nexport default {\n  components: {\n    MapView\n  },\n  data: () => {\n    return {\n      mapInfo: {\n        vos: null\n      },\n      isShow: false\n    };\n  },\n  methods: {\n    viewMap() {\n      this.isShow = !this.isShow;\n    }\n  },\n  setup() {\n    const places = ref({});\n    const filteredPlace = ref({});\n    const router = useRouter();\n    const route = useRoute();\n    const spaceType = ref(\"\");\n    const result = route.params.id;\n    const resultSplit = result.split(\" \");\n    const optionClicked = ref(false);\n    const getPlaces = async () => {\n      const res = await axios.get(`http://localhost:8090/spaceZBE/search?searchWord=${resultSplit[0]}&searchTime=${resultSplit[1]} ${resultSplit[2]}`).then(res => {\n        places.value = res.data.vos;\n        console.log(places.value);\n      });\n    };\n    getPlaces();\n    const sortSpace = () => {\n      optionClicked.value = true;\n      if (spaceType.value === \"오피스\") {\n        filteredPlace.value = _.filter(places.value, {\n          type: \"office\"\n        });\n        console.log(spaceType.value);\n      } else if (spaceType.value === \"데스크\") {\n        filteredPlace.value = _.filter(places.value, {\n          type: \"desk\"\n        });\n        console.log(spaceType.value);\n      } else if (spaceType.value === \"회의실\") {\n        filteredPlace.value = _.filter(places.value, {\n          type: \"meetingRoom\"\n        });\n        console.log(spaceType.value);\n      } else if (spaceType.value === \"전체\") {\n        filteredPlace.value = places.value;\n      }\n    };\n    const moveToPage = placeId => {\n      router.push({\n        name: \"Details\",\n        params: {\n          id: placeId\n        }\n      });\n    };\n    return {\n      getPlaces,\n      places,\n      optionClicked,\n      spaceType,\n      resultSplit,\n      sortSpace,\n      filteredPlace,\n      moveToPage\n    };\n  },\n  mounted() {\n    console.log(typeof useRoute().params.id);\n    const arr = useRoute().params.id.split(\" \");\n    fetch(\"http://localhost:8090/spaceZBE/search?searchWord=\" + arr[0] + \"&searchTime=\" + arr[1] + \" \" + arr[2]).then(res => res.json()).then(res => {\n      this.mapInfo.vos = res.vos;\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["useRouter","useRoute","axios","ref","_","MapView","components","data","mapInfo","vos","isShow","methods","viewMap","setup","places","filteredPlace","router","route","spaceType","result","params","id","resultSplit","split","optionClicked","getPlaces","res","get","then","value","console","log","sortSpace","filter","type","moveToPage","placeId","push","name","mounted","arr","fetch","json"],"sourceRoot":"","sources":["C:\\Users\\qwe17\\golfzon\\vue_prac\\SpaceZFE-1\\SpaceZFE\\src\\components\\SelectAll.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"mapCover\" v-if=\"isShow\">\r\n      <button @click=\"viewMap\" class=\"closeMap\">X</button>\r\n      <!-- 맵이 오는곳 -->\r\n      <div class=\"map\">\r\n        <MapView :options=\"mapInfo\"/>\r\n      </div>\r\n    </div>\r\n    <button @click=\"viewMap\" class=\"viewWithMap\">지도에서 보기</button>\r\n    <div class=\"filter\">\r\n      검색어 결과 : {{ resultSplit[0] }} <br />\r\n      검색 날짜 : {{ resultSplit[1] }} - {{ resultSplit[2] }}\r\n    </div>\r\n    <select\r\n      class=\"spaceType\"\r\n      id=\"spaceType\"\r\n      v-model=\"spaceType\"\r\n      @change=\"sortSpace\"\r\n    >\r\n      <option :value=\"null\">전체</option>\r\n      <option value=\"오피스\">오피스</option>\r\n      <option value=\"데스크\">데스크</option>\r\n      <option value=\"회의실\">회의실</option>\r\n    </select>\r\n    <br />\r\n    <p class=\"placeLeng\" v-show=\"!optionClicked\">\r\n      <b>장소</b> : {{ places.length }}\r\n    </p>\r\n    <p class=\"placeLeng\" v-show=\"optionClicked\">\r\n      <b>장소</b> : {{ filteredPlace.length }}\r\n    </p>\r\n\r\n    <div v-show=\"!optionClicked\" class=\"selectedAll\">\r\n      <section\r\n        class=\"lists\"\r\n        v-for=\"num in places.length\"\r\n        :key=\"places[num]\"\r\n        @click=\"moveToPage(places[num - 1].spaceId)\"\r\n      >\r\n        <img\r\n          class=\"img\"\r\n          :src=\"`http://localhost:8090/spaceZBE/resources/upload/${\r\n            places[num - 1].imgName\r\n          }`\"\r\n        />\r\n        <h3>{{ places[num - 1].spaceName }}</h3>\r\n        <p>{{ places[num - 1].price }}원 {{ places[num - 1].type }}</p>\r\n        <p></p>\r\n      </section>\r\n    </div>\r\n    <div v-show=\"optionClicked\" class=\"selectedAll\">\r\n      <section\r\n        class=\"lists\"\r\n        v-for=\"num in filteredPlace.length\"\r\n        :key=\"filteredPlace[num]\"\r\n        @click=\"moveToPage(filteredPlace[num - 1].spaceId)\"\r\n      >\r\n        <img\r\n          class=\"img\"\r\n          :src=\"`http://localhost:8090/spaceZBE/resources/upload/${\r\n            filteredPlace[num - 1].imgName\r\n          }`\"\r\n        />\r\n        <h3>{{ filteredPlace[num - 1].spaceName }}</h3>\r\n        <p>\r\n          {{ filteredPlace[num - 1].price }}원 {{ filteredPlace[num - 1].type }}\r\n        </p>\r\n        <p></p>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport { ref } from \"vue\";\r\nimport _ from \"lodash\";\r\nimport MapView from \"./KaKaoMapAll.vue\";\r\n\r\nexport default {  components: {\r\n    MapView,\r\n  },\r\n  data: () => {\r\n    return {\r\n      mapInfo: {\r\n        vos: null\r\n      },\r\n      isShow:false\r\n    };\r\n  },\r\n  methods: {\r\n    viewMap() {\r\n      this.isShow = !this.isShow;\r\n    },\r\n  },\r\n  setup() {\r\n    const places = ref({});\r\n    const filteredPlace = ref({});\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const spaceType = ref(\"\");\r\n    const result = route.params.id;\r\n    const resultSplit = result.split(\" \");\r\n    const optionClicked = ref(false);\r\n\r\n    const getPlaces = async () => {\r\n      const res = await axios\r\n        .get(\r\n          `http://localhost:8090/spaceZBE/search?searchWord=${resultSplit[0]}&searchTime=${resultSplit[1]} ${resultSplit[2]}`\r\n        )\r\n        .then((res) => {\r\n          places.value = res.data.vos;\r\n          console.log(places.value);\r\n        });\r\n    };\r\n\r\n    getPlaces();\r\n\r\n    const sortSpace = () => {\r\n      optionClicked.value = true;\r\n      if (spaceType.value === \"오피스\") {\r\n        filteredPlace.value = _.filter(places.value, { type: \"office\" });\r\n        console.log(spaceType.value);\r\n      } else if (spaceType.value === \"데스크\") {\r\n        filteredPlace.value = _.filter(places.value, { type: \"desk\" });\r\n        console.log(spaceType.value);\r\n      } else if (spaceType.value === \"회의실\") {\r\n        filteredPlace.value = _.filter(places.value, { type: \"meetingRoom\" });\r\n        console.log(spaceType.value);\r\n      } else if (spaceType.value === \"전체\") {\r\n        filteredPlace.value = places.value;\r\n      }\r\n    };\r\n\r\n    const moveToPage = (placeId) => {\r\n      router.push({\r\n        name: \"Details\",\r\n        params: {\r\n          id: placeId,\r\n        },\r\n      });\r\n    };\r\n\r\n    return {\r\n      getPlaces,\r\n      places,\r\n      optionClicked,\r\n      spaceType,\r\n      resultSplit,\r\n      sortSpace,\r\n      filteredPlace,\r\n      moveToPage,\r\n    };\r\n  },\r\n  mounted() {\r\n    console.log(typeof(useRoute().params.id));\r\n    const arr = useRoute().params.id.split(\" \");\r\n    fetch(\r\n      \"http://localhost:8090/spaceZBE/search?searchWord=\" + arr[0] + \"&searchTime=\" + arr[1] + \" \" + arr[2]\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        this.mapInfo.vos = res.vos;\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.filter {\r\n  font-size: 20px;\r\n}\r\n.selectedAll {\r\n  width: 1600px;\r\n  height: 450px;\r\n  margin: none;\r\n}\r\n.lists {\r\n  display: inline-block;\r\n  margin: 30px;\r\n}\r\n.img {\r\n  width: 300px;\r\n  height: 300px;\r\n}\r\n.spaceType {\r\n  margin-top: 10px;\r\n  font-size: 20px;\r\n  width: 100px;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n  opacity: 0.6;\r\n}\r\n.placeLeng {\r\n  margin-top: 20px;\r\n  font-size: 20px;\r\n}\r\n.viewWithMap {\r\n  border-radius: 10px;\r\n  border-color: black;\r\n  background-color: white;\r\n}\r\n\r\n.viewWithMap:hover {\r\n  background-color: black;\r\n  color: white;\r\n}\r\n\r\n.mapCover{\r\n  width: 80%;\r\n  height: 80%;\r\n  border: 1px;\r\n  background-color: transparent;\r\n  position:fixed;\r\n  padding:20px;\r\n  z-index: 2;\r\n}\r\n.map {\r\n  background-color: white;\r\n  width:95%;\r\n  height:95%;\r\n  /* margin:; */\r\n  padding:0px;\r\n  border: 1px solid black;\r\n}\r\n.closeMap {\r\n  float:right;\r\n  background-color: transparent;\r\n  border:0;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}