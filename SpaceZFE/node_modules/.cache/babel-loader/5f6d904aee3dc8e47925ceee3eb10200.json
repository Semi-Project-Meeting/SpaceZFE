{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, watch } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\nimport { getCurrentInstance } from \"vue\";\nexport default {\n  setup() {\n    const places = ref([]);\n    const searchPlace = ref(\"\");\n    const date = ref(\"\");\n    const time = ref(\"\");\n    const showTimeTag = ref(false);\n    const showDateTag = ref(false);\n    const showButtonRef = ref(false);\n    const showMore = ref(false);\n    const router = useRouter();\n\n    //ÌÉúÍ∑∏ Î≥¥Ïó¨Ï£ºÍ∏∞\n    const showTime = () => {\n      showTimeTag.value = true;\n    };\n    const showDate = () => {\n      showDateTag.value = true;\n    };\n\n    //ÎîîÎπÑÏóê Í≤ÄÏÉâ Ïù¥Î¶ÑÍ≥º ÎÇ†Ïßú(ÏÑ†ÌÉù)Î•º Î≥¥ÎÇ¥Í≥† Ïò® Í≤∞Í≥ºÎ•º Ï†ÄÏû• ÌïòÍ≥† ÎçîÎ≥¥Í∏∞ Î≤ÑÌäº ÌôúÏÑ±Ìôî\n    const getPlaces = async () => {\n      const res = await axios.post(\"http://localhost:8090/spaceZBE/search\", {\n        searchWord: searchPlace.value,\n        searchTime: date.value + \" \" + time.value + \":00\"\n      }).then(() => {\n        // places.value = res.data.vos;\n        // console.log(res);\n        showMore.value = true;\n      });\n    };\n    const searchingPlace = async () => {\n      let days = \"\";\n      if (date.value && time.value) {\n        days = `${date.value} ${time.value}:00`;\n      }\n      console.log(days);\n      const res = await axios.get(`http://localhost:8090/spaceZBE/search?searchWord=${searchPlace.value}&searchTime=${days}`);\n      places.value = {\n        ...res.data.vos\n      };\n      //  store.console\n      //   .log\n      //   `http://localhost:8090/spaceZBE/search?searchWord=${searchPlace.value}&searchTime=${days}`\n      // ();\n    };\n\n    //Í≤ÄÏÉâ watch Ìï®Ïàò (Ïò§Î¶¨Î•º Ï†úÏô∏Ìïú Í≤ÄÏÉâÏñ¥Îäî enterÎ•º Ï≥êÏïº Í≤∞Í≥º ÎÇòÏò¥)\n    watch(searchPlace, () => {\n      searchingPlace(), showButton();\n    });\n\n    //ÏûÑÌè¨Ìä∏ Ìï¥Ïò® Ïò§ÌîÑÏ∫îÎ≤ÑÏä§Î•º Îã´ÎèÑÎ°ù Î∞õÏïÑÏò¥\n    const {\n      emit\n    } = getCurrentInstance();\n    const onClose = () => {\n      emit(\"close\");\n    };\n\n    //ÎØ∏Î¶¨Î≥¥Í∏∞Î°ú ÎÇòÏò® Í≤ÄÏÉâÍ≤∞Í≥ºÎì§ÏùÑ ÌÅ¥Î¶≠ Ìï† Ïãú Ìï¥Îãπ Í≤ÄÏÉâÍ≤∞Í≥ºÎ°ú Ïù¥ÎèôÌïòÍ≤åÌïòÎäî Ìï®Ïàò\n    const moveToPage = placeId => {\n      console.log(placeId);\n      onClose();\n      router.push({\n        name: \"Details\",\n        params: {\n          id: placeId\n        }\n      }).then(() => {\n        window.location.reload(true);\n      });\n    };\n\n    //Í≤ÄÏÉâÍ≤∞Í≥º ÎçîÎ≥¥Í∏∞ ÌÅ¥Î¶≠Ïãú Î™®Îì† Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÎÇòÏò§ÎèÑÎ°ù Ï∂úÎ†•ÌïòÎäî Ìï®Ïàò\n    const moveToSelectAll = (placeName, plaecDate, placeTime) => {\n      // // let resPlaceDate = placeName + \" \" + placeDate + \" \" + placeTime;\n      // // console.log(resPlaceDate);\n      // const placeValues = placeName + plaecDate + placeTime;\n\n      // const placesValue = places.value;\n\n      onClose();\n      router.push({\n        name: \"SelectAll\",\n        params: {\n          id: placeName + \" \" + plaecDate + \" \" + placeTime\n        }\n      });\n      // console.log(placesValue);\n    };\n\n    //ÎØ∏Î¶¨Î≥¥Í∏∞Îú®Í≤åÌï† Ìï®Ïàò\n    const showButton = () => {\n      showButtonRef.value = true;\n    };\n    return {\n      searchPlace,\n      places,\n      showButtonRef,\n      date,\n      time,\n      showTimeTag,\n      showMore,\n      showDateTag,\n      showTime,\n      showDate,\n      moveToPage,\n      moveToSelectAll,\n      showButton,\n      getPlaces,\n      searchingPlace\n      // store,\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","watch","axios","useRouter","getCurrentInstance","setup","places","searchPlace","date","time","showTimeTag","showDateTag","showButtonRef","showMore","router","showTime","value","showDate","getPlaces","res","post","searchWord","searchTime","then","searchingPlace","days","console","log","get","data","vos","showButton","emit","onClose","moveToPage","placeId","push","name","params","id","window","location","reload","moveToSelectAll","placeName","plaecDate","placeTime"],"sourceRoot":"","sources":["C:\\Users\\qwe17\\golfzon\\vue_prac\\SpaceZFE-1\\SpaceZFE\\src\\components\\SearchModal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      class=\"offcanvas offcanvas-top\"\r\n      tabindex=\"-1\"\r\n      id=\"offcanvasTop\"\r\n      aria-labelledby=\"offcanvasTopLabel\"\r\n    >\r\n      <div class=\"offcanvas-header\">\r\n        <input\r\n          class=\"input\"\r\n          type=\"text\"\r\n          v-model=\"searchPlace\"\r\n          placeholder=\"üîç  ÏÉÅÌò∏Î™Ö/ÏúÑÏπò Í≤ÄÏÉâ\"\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          placeholder=\"ÎÇ†Ïßú\"\r\n          class=\"button\"\r\n          v-model=\"date\"\r\n          @change=\"showDate\"\r\n        />\r\n\r\n        <select class=\"button\" v-model=\"time\" @change=\"showTime\">\r\n          <option v-for=\"num in 24\" :key=\"num.id\">{{ num }}:00</option>\r\n        </select>\r\n        <button class=\"show\" :to=\"{ name: 'SelectAllMap' }\">\r\n          ÏßÄÎèÑÍ∏∞Î∞òÏúºÎ°ú Í≤ÄÏÉâÌïòÍ∏∞\r\n        </button>\r\n        <button\r\n          class=\"show\"\r\n          v-if=\"showButtonRef\"\r\n          @click=\"moveToSelectAll(searchPlace, date, time)\"\r\n        >\r\n          Í≤ÄÏÉâÍ≤∞Í≥º ÎçîÎ≥¥Í∏∞\r\n        </button>\r\n      </div>\r\n      <div class=\"offcanvas-body\">\r\n        <div\r\n          v-for=\"place in places\"\r\n          :key=\"place.companyId\"\r\n          @click=\"moveToPage(place.spaceId)\"\r\n        >\r\n          <label>\r\n            {{ place.spaceName }}\r\n            <p class=\"searchedDetail\">{{ place.price }}Ïõê</p>\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div class=\"offcanvas-footer\"></div>\r\n    </div>\r\n    <div class=\"offcanvas-wrapper\"></div>\r\n    <!-- <SelectAll :places=\"places\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { getCurrentInstance } from \"vue\";\r\n\r\nexport default {\r\n  setup() {\r\n    const places = ref([]);\r\n\r\n    const searchPlace = ref(\"\");\r\n\r\n    const date = ref(\"\");\r\n    const time = ref(\"\");\r\n    const showTimeTag = ref(false);\r\n    const showDateTag = ref(false);\r\n    const showButtonRef = ref(false);\r\n    const showMore = ref(false);\r\n\r\n    const router = useRouter();\r\n\r\n    //ÌÉúÍ∑∏ Î≥¥Ïó¨Ï£ºÍ∏∞\r\n    const showTime = () => {\r\n      showTimeTag.value = true;\r\n    };\r\n    const showDate = () => {\r\n      showDateTag.value = true;\r\n    };\r\n\r\n    //ÎîîÎπÑÏóê Í≤ÄÏÉâ Ïù¥Î¶ÑÍ≥º ÎÇ†Ïßú(ÏÑ†ÌÉù)Î•º Î≥¥ÎÇ¥Í≥† Ïò® Í≤∞Í≥ºÎ•º Ï†ÄÏû• ÌïòÍ≥† ÎçîÎ≥¥Í∏∞ Î≤ÑÌäº ÌôúÏÑ±Ìôî\r\n    const getPlaces = async () => {\r\n      const res = await axios\r\n        .post(\"http://localhost:8090/spaceZBE/search\", {\r\n          searchWord: searchPlace.value,\r\n          searchTime: date.value + \" \" + time.value + \":00\",\r\n        })\r\n        .then(() => {\r\n          // places.value = res.data.vos;\r\n          // console.log(res);\r\n          showMore.value = true;\r\n        });\r\n    };\r\n\r\n    const searchingPlace = async () => {\r\n      let days = \"\";\r\n\r\n      if (date.value && time.value) {\r\n        days = `${date.value} ${time.value}:00`;\r\n      }\r\n      console.log(days);\r\n\r\n      const res = await axios.get(\r\n        `http://localhost:8090/spaceZBE/search?searchWord=${searchPlace.value}&searchTime=${days}`\r\n      );\r\n\r\n      places.value = { ...res.data.vos };\r\n      //  store.console\r\n      //   .log\r\n      //   `http://localhost:8090/spaceZBE/search?searchWord=${searchPlace.value}&searchTime=${days}`\r\n      // ();\r\n    };\r\n\r\n    //Í≤ÄÏÉâ watch Ìï®Ïàò (Ïò§Î¶¨Î•º Ï†úÏô∏Ìïú Í≤ÄÏÉâÏñ¥Îäî enterÎ•º Ï≥êÏïº Í≤∞Í≥º ÎÇòÏò¥)\r\n    watch(searchPlace, () => {\r\n      searchingPlace(), showButton();\r\n    });\r\n\r\n    //ÏûÑÌè¨Ìä∏ Ìï¥Ïò® Ïò§ÌîÑÏ∫îÎ≤ÑÏä§Î•º Îã´ÎèÑÎ°ù Î∞õÏïÑÏò¥\r\n    const { emit } = getCurrentInstance();\r\n    const onClose = () => {\r\n      emit(\"close\");\r\n    };\r\n\r\n    //ÎØ∏Î¶¨Î≥¥Í∏∞Î°ú ÎÇòÏò® Í≤ÄÏÉâÍ≤∞Í≥ºÎì§ÏùÑ ÌÅ¥Î¶≠ Ìï† Ïãú Ìï¥Îãπ Í≤ÄÏÉâÍ≤∞Í≥ºÎ°ú Ïù¥ÎèôÌïòÍ≤åÌïòÎäî Ìï®Ïàò\r\n    const moveToPage = (placeId) => {\r\n      console.log(placeId);\r\n      onClose();\r\n      router\r\n        .push({\r\n          name: \"Details\",\r\n          params: {\r\n            id: placeId,\r\n          },\r\n        })\r\n        .then(() => {\r\n          window.location.reload(true);\r\n        });\r\n    };\r\n\r\n    //Í≤ÄÏÉâÍ≤∞Í≥º ÎçîÎ≥¥Í∏∞ ÌÅ¥Î¶≠Ïãú Î™®Îì† Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÎÇòÏò§ÎèÑÎ°ù Ï∂úÎ†•ÌïòÎäî Ìï®Ïàò\r\n    const moveToSelectAll = (placeName, plaecDate, placeTime) => {\r\n      // // let resPlaceDate = placeName + \" \" + placeDate + \" \" + placeTime;\r\n      // // console.log(resPlaceDate);\r\n      // const placeValues = placeName + plaecDate + placeTime;\r\n\r\n      // const placesValue = places.value;\r\n\r\n      onClose();\r\n      router.push({\r\n        name: \"SelectAll\",\r\n        params: {\r\n          id: placeName + \" \" + plaecDate + \" \" + placeTime,\r\n        },\r\n      });\r\n      // console.log(placesValue);\r\n    };\r\n\r\n    //ÎØ∏Î¶¨Î≥¥Í∏∞Îú®Í≤åÌï† Ìï®Ïàò\r\n    const showButton = () => {\r\n      showButtonRef.value = true;\r\n    };\r\n\r\n    return {\r\n      searchPlace,\r\n      places,\r\n      showButtonRef,\r\n      date,\r\n      time,\r\n      showTimeTag,\r\n      showMore,\r\n      showDateTag,\r\n      showTime,\r\n      showDate,\r\n      moveToPage,\r\n      moveToSelectAll,\r\n      showButton,\r\n      getPlaces,\r\n      searchingPlace,\r\n      // store,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.offcanvas-top {\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  height: auto;\r\n  position: relative;\r\n  background: white;\r\n  z-index: 1;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n}\r\n.offcanvas-header {\r\n  height: 70px;\r\n}\r\n.offcanvas-wrapper {\r\n  position: absolute;\r\n  z-index: 100;\r\n  top: inherit;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n.input {\r\n  width: 500px;\r\n  height: 50px;\r\n  font-size: 25px;\r\n  margin-left: 100px;\r\n  border: none;\r\n  border-bottom: 1px solid gray;\r\n  margin-right: 60px;\r\n}\r\n.button {\r\n  margin: 10px;\r\n  width: fit-content;\r\n  height: 50px;\r\n  background: white;\r\n  border-radius: 10px;\r\n  opacity: 0.5;\r\n}\r\nlabel {\r\n  margin-left: 100px;\r\n  width: 500px;\r\n  height: 60px;\r\n  font-size: 25px;\r\n  border-bottom: 1px solid gray;\r\n}\r\n.searchedDetail {\r\n  font-size: 15px;\r\n}\r\n.show {\r\n  margin: 10px;\r\n  width: fit-content;\r\n  height: 50px;\r\n  background: white;\r\n  border-radius: 10px;\r\n  opacity: 0.5;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}